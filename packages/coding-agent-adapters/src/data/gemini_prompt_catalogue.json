{
  "generated_at": "2026-02-19",
  "base_dir": "/Users/jakobgrant/Workspaces",
  "normalization_assumptions": {
    "ansi_escape_sequences_removed": true,
    "cursor_positioning_replaced_with_spaces": true,
    "box_drawing_replaced_with_spaces": true,
    "spinner_chars_replaced_with_spaces": true,
    "consecutive_spaces_collapsed": true
  },
  "cli": {
    "name": "gemini-cli",
    "repo_path": "/Users/jakobgrant/Workspaces/gemini-cli",
    "framework": {
      "ui_library": "Ink/React",
      "rendering": "mixed inline TUI (alternate buffer optional)",
      "spinner_chars": [
        "ink-spinner type=dots (frames from dependency)"
      ],
      "sources": [
        "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/gemini.tsx:7",
        "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/components/CliSpinner.tsx:7",
        "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/auth/AuthInProgress.tsx:56"
      ]
    },
    "startup_flow": [
      {
        "step": 1,
        "pattern": "Tips for getting started:",
        "source": "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/components/Tips.tsx:20"
      },
      {
        "step": 2,
        "pattern": "/help for more information.",
        "source": "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/components/Tips.tsx:39"
      },
      {
        "step": 3,
        "pattern": "Type your message or @path/to/file",
        "source": "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/components/Composer.tsx:446"
      },
      {
        "step": 4,
        "pattern": "prompt symbol is one of >, !, *, (r:)",
        "source": "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/components/InputPrompt.tsx:1450"
      },
      {
        "step": 5,
        "pattern": "home/root startup warnings may appear",
        "source": "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/utils/userStartupWarnings.ts:45"
      }
    ],
    "blocking_prompts": [
      {
        "type": "login",
        "trigger": "no auth configured / initial auth choice",
        "exact_text": [
          "Get started",
          "How would you like to authenticate for this project?",
          "(Use Enter to select)"
        ],
        "source_file": "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/auth/AuthDialog.tsx:221",
        "input_method": "arrow-key radio menu + Enter",
        "options": [
          "Login with Google",
          "Use Gemini API Key",
          "Vertex AI"
        ],
        "default": "initialAuthIndex (runtime-configured)",
        "can_be_skipped": "yes (Esc/cancel path)",
        "regex_pattern": "(?i)get.?started.*authenticate.*project|use.?enter.?to.?select"
      },
      {
        "type": "api_key",
        "trigger": "API key auth path",
        "exact_text": [
          "Enter Gemini API Key",
          "Please enter your Gemini API key.",
          "(Press Enter to submit, Esc to cancel, Ctrl+C to clear stored key)"
        ],
        "source_file": "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/auth/ApiAuthDialog.tsx:107",
        "input_method": "text input + Enter/Esc/Ctrl+C",
        "options": [
          "submit",
          "cancel",
          "clear stored key"
        ],
        "default": "input focus",
        "can_be_skipped": "yes (Esc)",
        "regex_pattern": "(?i)enter gemini api key|press.?enter.?to.?submit.*esc.*cancel"
      },
      {
        "type": "auth_wait",
        "trigger": "OAuth/browser auth in progress",
        "exact_text": "Waiting for auth... (Press ESC or CTRL+C to cancel)",
        "source_file": "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/auth/AuthInProgress.tsx:56",
        "input_method": "Esc/Ctrl+C",
        "options": [
          "cancel",
          "continue waiting"
        ],
        "default": "continue waiting",
        "can_be_skipped": "yes",
        "regex_pattern": "(?i)waiting.?for.?auth.*press.?esc.*ctrl\\+c"
      },
      {
        "type": "trust",
        "trigger": "untrusted current directory",
        "exact_text": [
          "Do you trust this folder?",
          "Trust folder (...)",
          "Trust parent folder (...)",
          "Don't trust"
        ],
        "source_file": "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/components/FolderTrustDialog.tsx:102",
        "input_method": "arrow-key radio menu + Enter",
        "options": [
          "Trust folder",
          "Trust parent folder",
          "Don't trust"
        ],
        "default": "Trust folder",
        "can_be_skipped": "Esc exits",
        "regex_pattern": "(?i)do.?you.?trust.?this.?folder|trust.?folder|trust.?parent.?folder|don.?t.?trust"
      },
      {
        "type": "trust_multi_directory",
        "trigger": "adding multiple dirs to workspace",
        "exact_text": [
          "Do you trust the following folders being added to this workspace?",
          "Yes",
          "Yes, and remember the directories as trusted",
          "No"
        ],
        "source_file": "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/components/MultiFolderTrustDialog.tsx:159",
        "input_method": "arrow-key radio menu + Enter",
        "options": [
          "Yes",
          "Yes, and remember the directories as trusted",
          "No"
        ],
        "default": "Yes",
        "can_be_skipped": "Esc cancels",
        "regex_pattern": "(?i)trust.?the.?following.?folders|yes,? and remember|\\bno\\b"
      },
      {
        "type": "permission_tool_confirmation",
        "trigger": "tool call requires approval (edit/exec/info/mcp)",
        "exact_text": [
          "Apply this change?",
          "Allow execution of: '...'?",
          "Do you want to proceed?",
          "Allow execution of MCP tool \"...\" from server \"...\"?",
          "Allow once",
          "Allow for this session",
          "Allow for all future sessions",
          "No, suggest changes (esc)"
        ],
        "source_file": "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/components/messages/ToolConfirmationMessage.tsx:312",
        "input_method": "arrow-key radio menu + Enter",
        "options": [
          "Allow once",
          "Allow for this session",
          "Allow for all future sessions",
          "No, suggest changes (esc)",
          "MCP: Allow tool for this session / Allow all server tools"
        ],
        "default": "Allow once",
        "can_be_skipped": "yes (Esc cancel)",
        "regex_pattern": "(?i)apply.?this.?change|allow.?execution|allow once|allow for this session|all future sessions|no,? suggest changes"
      },
      {
        "type": "validation",
        "trigger": "account verification required",
        "exact_text": [
          "Further action is required to use this service.",
          "Verify your account",
          "Change authentication",
          "Waiting for verification... (Press ESC or CTRL+C to cancel)",
          "Press Enter when verification is complete."
        ],
        "source_file": "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/components/ValidationDialog.tsx:163",
        "input_method": "radio menu + Enter/Esc",
        "options": [
          "Verify your account",
          "Change authentication",
          "cancel"
        ],
        "default": "Verify your account",
        "can_be_skipped": "yes (Esc/Ctrl+C)",
        "regex_pattern": "(?i)further action is required|verify your account|change authentication|waiting for verification"
      },
      {
        "type": "update",
        "trigger": "startup version check",
        "exact_text": [
          "A new version of Gemini CLI is available! ...",
          "Gemini CLI update available! ..."
        ],
        "source_file": "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/utils/updateCheck.ts:78",
        "input_method": "notification",
        "options": [],
        "default": null,
        "can_be_skipped": "yes",
        "regex_pattern": "(?i)(new version of gemini cli is available|gemini cli update available)"
      },
      {
        "type": "privacy_consent",
        "trigger": "privacy notice / data collection consent",
        "exact_text": [
          "Allow Google to use this data to develop and improve our products?",
          "Yes",
          "No",
          "Press Enter to choose an option and exit.",
          "Press Esc to exit."
        ],
        "source_file": "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/privacy/CloudFreePrivacyNotice.tsx:111",
        "input_method": "radio menu + Enter; Esc on notice-only variants",
        "options": [
          "Yes",
          "No"
        ],
        "default": "based on stored opt-in",
        "can_be_skipped": "partially (Esc in notice branches)",
        "regex_pattern": "(?i)allow google to use this data|press enter to choose an option and exit|press esc to exit"
      }
    ],
    "ready_detection": {
      "patterns": [
        "^\\s*[>!\\*]\\s+Type your (message|shell command)",
        "\\(r:\\)",
        "Type your message or @path/to/file"
      ],
      "sources": [
        "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/components/InputPrompt.tsx:1450",
        "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/components/Composer.tsx:446"
      ]
    },
    "exit_detection": {
      "patterns": [
        "A folder trust level must be selected to continue\\. Exiting",
        "You are now logged out",
        "Exit"
      ],
      "sources": [
        "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/components/FolderTrustDialog.tsx:127",
        "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/ui/components/LogoutConfirmationDialog.tsx:64"
      ]
    },
    "auth_env_vars": [
      "GEMINI_API_KEY",
      "GOOGLE_CLOUD_PROJECT",
      "GOOGLE_CLOUD_LOCATION",
      "GOOGLE_API_KEY",
      "GOOGLE_GENAI_USE_VERTEXAI",
      "GOOGLE_GENAI_USE_GCA"
    ],
    "auth_env_var_sources": [
      "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/config/auth.ts:20",
      "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/config/auth.ts:31",
      "/Users/jakobgrant/Workspaces/gemini-cli/packages/cli/src/validateNonInterActiveAuth.ts:38"
    ]
  }
}
