# Database connection
# For local development with Docker:
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/parallax?schema=public"

# For TimescaleDB Docker:
# DATABASE_URL="postgresql://postgres:postgres@localhost:5432/parallax?schema=public"

# For production (example):
# DATABASE_URL="postgresql://user:password@host:5432/database?schema=public&sslmode=require"

# Parallax environment variables
NODE_ENV=development
LOG_LEVEL=info
PORT=3000

# Etcd configuration
PARALLAX_ETCD_ENDPOINTS=localhost:2379

# Pattern directory
PARALLAX_PATTERNS_DIR=../../patterns

# Redis (for HA state sync)
REDIS_URL=redis://localhost:6379
PARALLAX_REDIS_URL=redis://localhost:6379

# Enterprise Features (requires license key)
PARALLAX_LICENSE_KEY=                       # PARALLAX-ENT-xxxx or PARALLAX-PLUS-xxxx
PARALLAX_HA_ENABLED=false                   # Enable High Availability clustering
PARALLAX_SCHEDULER_POLL_MS=1000             # Scheduler poll frequency (ms)
PARALLAX_BASE_URL=http://localhost:3000     # Base URL for webhook URLs

# Agent Runtime
PARALLAX_LOCAL_RUNTIME_URL=http://localhost:9876
PARALLAX_DOCKER_RUNTIME_URL=http://localhost:9877
PARALLAX_K8S_RUNTIME_URL=http://localhost:9878

# Git Workspace Provisioning (requires GitHub App)
# Create a GitHub App at: https://github.com/settings/apps/new
# Required permissions: contents (read/write), pull_requests (read/write), metadata (read)
PARALLAX_GITHUB_APP_ID=                         # GitHub App ID (numeric)
PARALLAX_GITHUB_PRIVATE_KEY=                    # GitHub App private key (PEM format, can be multiline)
PARALLAX_GITHUB_WEBHOOK_SECRET=                 # Webhook secret for signature verification
PARALLAX_GITHUB_BASE_URL=                       # Optional: GitHub Enterprise base URL
PARALLAX_WORKSPACES_DIR=./.workspaces           # Directory for cloned workspaces
PARALLAX_CREDENTIAL_TTL=3600                    # Credential TTL in seconds (default: 1 hour)
PARALLAX_WORKSPACE_AUTO_CLEANUP=true            # Auto-cleanup workspaces after TTL
PARALLAX_WORKSPACE_TTL=3600                     # Workspace TTL in seconds

# Monitoring
ENABLE_METRICS=true
ENABLE_TRACING=true
JAEGER_ENDPOINT=http://localhost:14268/api/traces