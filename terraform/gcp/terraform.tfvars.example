# Parallax GCP Terraform Configuration
# Copy this to terraform.tfvars and update with your values
#
# Usage:
#   1. Create state bucket: gsutil mb -l us-central1 gs://YOUR-PROJECT-parallax-tf-state
#   2. Copy this file: cp terraform.tfvars.example terraform.tfvars
#   3. Edit terraform.tfvars with your values
#   4. Initialize: terraform init -backend-config="bucket=YOUR-PROJECT-parallax-tf-state"
#   5. Plan: terraform plan
#   6. Apply: terraform apply

# ===================
# Required Variables
# ===================

project_id = "your-gcp-project-id"

# Security - MUST be set explicitly (no defaults for security)
authorized_networks = [
  {
    name  = "office"
    value = "YOUR_OFFICE_IP/32"  # e.g., "203.0.113.50/32"
  },
  {
    name  = "vpn"
    value = "YOUR_VPN_CIDR"      # e.g., "10.8.0.0/24"
  }
]

master_authorized_networks = [
  {
    cidr_block   = "YOUR_OFFICE_IP/32"  # e.g., "203.0.113.50/32"
    display_name = "Office"
  }
]

grafana_admin_password = "CHANGE_ME_min_12_chars"  # Minimum 12 characters

# ===================
# Optional Variables
# ===================

region = "us-central1"
zone   = "us-central1-a"

# Environment
environment = "production"

# Cluster Configuration
cluster_name     = "parallax-cluster"
gke_node_count   = 3
gke_machine_type = "e2-medium"  # 2 vCPU, 4GB RAM
gke_disk_size_gb = 30

# Database Configuration
db_tier           = "db-f1-micro"  # Use db-g1-small or higher for production
db_disk_size      = 10
db_backup_enabled = true

# Docker Image
parallax_image = "gcr.io/your-project-id/parallax-control-plane:latest"

# Domain (optional - leave empty for IP-only access)
domain_name = ""  # e.g., "parallax.example.com"
